<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>段王爷</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="shortcut icon" type="image/x-icon" href="img/logo.ico" />
    <!-- Font-Awesome -->
    <link rel="stylesheet" href="css/font-awesome/css/font-awesome.min.css">

    <!-- Google Webfonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600|PT+Serif:400,400italic' rel='stylesheet' type='text/css'>

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css" id="theme-styles">


</head>
<body>
    <header>
        <div class="widewrapper masthead">
            <div class="container" style="width: 95%">
                <a href="index.html" id="logo">
                    <img src="img/logo.png" alt="clean Blog">
                </a>

                <div id="mobile-nav-toggle" class="pull-right">
                    <a href="#" data-toggle="collapse" data-target=".clean-nav .navbar-collapse">
                        <i class="fa fa-bars"></i>
                    </a>
                </div>

                <nav class="pull-right clean-nav" style="float:right;">
                    <div class="collapse navbar-collapse">
                        <ul class="nav nav-pills navbar-nav">

                            <li>
                                <a href="index.html">Home</a>
                            </li>
                            <li>
                                <a href="checkStatus.jsp">Write</a>
                            </li>
                            <!--<li>-->
                                <!--<a href="source.jsp">Contact</a>-->
                            <!--</li>-->
                        </ul>
                    </div>
                </nav>

            </div>
        </div>

        <div class="widewrapper subheader">
            <div class="container" style="width: 95%">
                <div>
                    <div class="clean-breadcrumb">
                        <a href="#">博客</a>
                    </div>
                </div>

                <div class="clean-searchbox">
                    <form action="#" method="get" accept-charset="utf-8">
                        <input class="searchfield" id="searchbox" type="text" placeholder="Search">
                        <button class="searchbutton" type="submit">
                            <i class="fa fa-search"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </header>

    <div class="widewrapper main">
        <div class="container" style="width: 95%">
            <div class="row">
                <aside class="col-md-3 blog-aside">

                    <div class="aside-widget">
                        <header>
                            <h3>Tags</h3>
                        </header>
                        <div class="body clearfix">
                            <ul class="tags" id="tags">
                                <li><a href="#">nothing</a></li>

                            </ul>
                        </div>
                    </div>

                    <div class="aside-widget">
                        <header>
                            <h3>Related Post</h3>
                        </header>
                        <div class="body">
                            <ul class="clean-list" style="margin-left: 25px" id="post">
                                <li><a href="">nothing</a></li>
                            </ul>
                        </div>
                    </div>

                </aside>
                <div class="col-md-9 blog-main">
                    <div class="row" id="mainbody">
                        <div class="col-md-6 col-sm-6">
                            <article class=" blog-teaser">
                                <header>
                                    <h3><a href="single.html">How </a></h3>
                                    <span class="meta">4 October 2019, Duan Wangye</span>
                                    <hr>
                                </header>
                                <div class="body">
                                    Nothing to show !
                                </div>
                                <div class="clearfix">
                                    <a href="single.html" class="btn btn-clean-one">Read more</a>
                                </div>
                            </article>
                        </div>
                    </div>

                    <div class="paging">
                        <a href="#" class="older"><i>更多</i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="widewrapper footer">
            <div class="container"  style="width: 95%">
                <div class="row">
                    <div class="col-md-6 footer-widget">
                        <h3> <i class="fa fa-user"></i>About</h3>

                        <p>博主为新晋码农，了解Android、web开发，略懂Java、C++，了解Linux系统维护，开发并维护几个网站以及日常维护自己的服务器</p>
                        <p>PS：本人有E5-2630 V3(6核12线程) 64GB内存 2080tiX2 服务器可出租算力，欢迎有需要的朋友联系</p>
                    </div>

                    <div class="col-md-6 footer-widget">
                        <h3> <i class="fa fa-envelope"></i>Contact Me</h3>

                        <style>
                            *{padding: 0; margin: 0}
                            .wb-box{
                                position: fixed;
                                width: 100%;
                                height: 100%;
                                display: none;
                            }
                            .wb-box1{
                                width:258px;
                                height:258px;
                                position:fixed;
                                left:50%;
                                top:25%;
                                margin-left:-129px;
                                border:1px solid #000000;
                            }
                            .wb-box-text1{
                                width:258px;
                                position:fixed;
                                left:50%;
                                top:25%;
                                margin-top:258px;
                                margin-left:-129px;
                                text-align:center;
                                color:#000;
                            }
                            .wb-box-text2{
                                width:auto;
                                height:auto;
                                position:fixed;
                                left:50%;
                                top:25%;
                                margin-left:95px;
                                text-align:left;
                                font-size:25px;
                                line-height:100%;
                                padding-top:0;
                            }
                        </style>

                        <div class="wb-box" hidden>
                            <div class="wb-box1">
                                <img src="img/qq.png" width="256" height="256" />
                            </div>
                            <div class="wb-box-text1">
                                <a  style="font-size:20px; font-weight:bold; color:#000000;">扫二维码联系我</a>
                            </div>
                            <div class="wb-box-text2">
                                <a href="javascript:" onclick="jQuery('.wb-box').hide()" style="border: black;font-size: medium">关闭</a>
                            </div>
                        </div>

                        <p>你可以通过向我发邮件联系我，当然也可以通过QQ添加我为好友。同时你也可以在GitHub上关注我。</p>
                        <p>邮件：745298691（At）qq.com</p>
                        <div class="footer-widget-icon"><i class="fa fa-qq" onclick="jQuery('.wb-box').show()"></i><i class="fa fa-github" onclick="window.open('https://github.com/Duanxiaoer')"></i></div>

                    </div>

                </div>
            </div>
        </div>
        <div class="widewrapper copyright">
            蜀ICP备19027460号
        </div>
    </footer>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/modernizr.js"></script>

    <script>

        var all_blogs ;

        function searchTags(tag){
            var mainbody = document.getElementById("mainbody");
            var mainbody_html = "";
            for (var key2 in all_blogs) {
                if (tag === all_blogs[key2].tag){
                    mainbody_html = '' +
                        '<div class="col-md-6 col-sm-6">\n' +
                        '                            <article class=" blog-teaser">\n' +
                        '                                <header>\n' +
                        '                                    <h3><a href="single.html">'+all_blogs[key2].title+'</a></h3>\n' +
                        '                                    <span class="meta">'+formatDate(all_blogs[key2].time)+'</span>\n' +
                        '                                    <hr>\n' +
                        '                                </header>\n' +
                        '                                <div class="body">\n' +
                        '                                    ' +all_blogs[key2].summary+
                        '                                </div>\n' +
                        '                                <div class="clearfix">\n' +
                        '                                    <a href="single.html" class="btn btn-clean-one">Read more</a>\n' +
                        '                                </div>\n' +
                        '                            </article>\n' +
                        '                        </div>' + mainbody_html
                }
            }
            mainbody.innerHTML=mainbody_html;
        }

        $.ajax({
            url:"/DatabaseControl",
            type:"POST",
            dataType: "JSON",
            success : function(data){

                var tags = document.getElementById("tags");
                var post = document.getElementById("post");
                var mainbody = document.getElementById("mainbody");

                //tags
                var html = "";
                for (var key in data.kindtypes) {
                    html += "<li><a onclick='searchTags("+"\""+data.kindtypes[key]+"\""+")'>"+data.kindtypes[key]+"</a></li>"
                }
                tags.innerHTML=html;
                //relative post
                var post_html = "";
                var mainbody_html = "";
                all_blogs = data.blogsrecords;
                for (var key2 in data.blogsrecords) {
                    post_html = "<li><a href='/single.html?title="+data.blogsrecords[key2].title+"&id="+data.blogsrecords[key2].id+"' >"+data.blogsrecords[key2].title+"</a></li>" + post_html;
                    mainbody_html = '' +
                        '<div class="col-md-6 col-sm-6">\n' +
                        '                            <article class=" blog-teaser">\n' +
                        '                                <header>\n' +
                        '                                    <h3><a href="single.html">'+data.blogsrecords[key2].title+'</a></h3>\n' +
                        '                                    <span class="meta">'+formatDate(data.blogsrecords[key2].time)+'</span>\n' +
                        '                                    <hr>\n' +
                        '                                </header>\n' +
                        '                                <div class="body">\n' +
                        '                                    ' +data.blogsrecords[key2].summary+
                        '                                </div>\n' +
                        '                                <div class="clearfix">\n' +
                        '                                    <a href="single.html?title='+data.blogsrecords[key2].title+'&id='+data.blogsrecords[key2].id+'" class="btn btn-clean-one">Read more</a>\n' +
                        '                                </div>\n' +
                        '                            </article>\n' +
                        '                        </div>' + mainbody_html

                }
                post.innerHTML=post_html;
                mainbody.innerHTML = mainbody_html;


            }
        });

        function formatDate(time) {
            return new Date(parseInt(time)).toLocaleString().replace(/:\d{1,2}$/,' ');
        }

    </script>

</body>
</html>